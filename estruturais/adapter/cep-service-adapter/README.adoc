:source-highlighter: highlightjs
:numbered:

ifdef::env-github[]
:outfilesuffix: .adoc
:caution-caption: :fire:
:important-caption: :exclamation:
:note-caption: :paperclip:
:tip-caption: :bulb:
:warning-caption: :warning:
endif::[]

= Consumo de Servi√ßos de CEP com framework Quarkus (link:https://kinolien.github.io/gitzip/?download=/manoelcampos/padroes-projetos/tree/master/estruturais/adapter/cep-service-adapter[zip])

Esta vers√£o do projeto mostra como aplicar o padr√£o adapter
de uma forma simplificada, adaptando o formato de dados
recebido em diferentes servi√ßos de consulta de CEP para um formato padr√£o.

Isto se deve ao fato de em um determinado servi√ßo, o objeto contendo o endere√ßo poder ter campos com nomes
diferentes de outro servi√ßo.
Assim, foi apenas inclu√≠do o m√©todo abstrato `protected abstract Endereco jsonToEndereco(String json)` na classe `AbstractCepService`.
Tal m√©todo recebe uma String representando o c√≥digo JSON do endere√ßo recebido e deve retornar um objeto `Endere√ßo`,
contendo os dados obtidos do JSON.
As classe filhas de `AbstractCepService` se encarregam de extrair corretamente tais dados do JSON
e armazenar em um novo objeto `Endereco`.
Com isto, n√£o tivemos que criar classes Adapter para os servi√ßos de CEP implementados.

Este √© um projeto Java EE que utiliza o framework https://quarkus.io[Quarkus] que torna o desenvolvimento de backends en Java
extremamente produtivo e eficiente, al√©m de embutir um servidor de aplica√ß√£o leve, tornando trivial a implanta√ß√£o da aplica√ß√£o.
Para mais detalhes sobre o Quarkus, veja a p√°gina oficial acima e um
projeto de exemplo detalhada https://github.com/manoelcampos/sd-webservices/tree/master/4.5-ws-rest-quarkus-framework[aqui].

== Requisitos

- JDK 8 ou 11
- Maven 3.5.3 ou superior

== Executar o Projeto

Voc√™ pode iniciar o servidor com sua aplica√ß√£o de diferentes maneiras:

- Usando o script mvnw inclu√≠do durante a cria√ß√£o do projeto: `./mvnw compile quarkus:dev`.
- Ou simplesmente clicando no bot√£o Play em IDEs como o NetBeans, pois foi inclu√≠do o plugin maven exec para executar o comando acima mais facilmente.

==== Atualizando o projeto sem reiniciar o servidor

Bem, atualizar o projeto no servidor em execu√ß√£o e ver as altera√ß√µes que voc√™ fez na sua aplica√ß√£o √© realmente complicado com o Quarkus: voc√™ precisa apenas salvar o projeto e boom: normalmente em menos de 1 segundo a aplica√ß√£o estar√° rodando com as novas altera√ß√µes üò±üöÄüòÅ.

N√£o √© √† toa que o slogan do Quarkus √© "Supersonic Subatomic Java".

==== Acessando a aplica√ß√£o

Se voc√™ estiver habituado a usar servidores como o GlassFish no NetBeans,
sabe que ao clicar no bot√£o Play, o projeto √© compilado e executado,
abrindo o navegador automaticamente.
Usando o Quarkus isso n√£o ocorrer√°.
Voc√™ deve abrir o navegador voc√™ mesmo. Neste caso, a aplica√ß√£o estar√° dispon√≠vel
em http://localhost:8080.
Observe que n√£o h√° um caminho adicional com o nome da aplica√ß√£o no final da URL,
pois a aplica√ß√£o executa na raiz do servidor.
