:revealjsdir: https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/
//:revealjsdir: https://cdnjs.com/libraries/reveal.js/3.8.0
:revealjs_slideNumber: true
:source-highlighter: highlightjs
:icons: font
:allow-uri-read:
:imagesdir: ../../images
:stylesheet: ../../adoc-golo.css
:customcss: ../../slides-base.css
:numbered:
:toc: left
:toc-title: Sum√°rio
:toclevels: 5

ifdef::env-github[]
//Exibe √≠cones para os blocos como NOTE e IMPORTANT no GitHub

:caution-caption: :fire:
:important-caption: :exclamation:
:note-caption: :paperclip:
:tip-caption: :bulb:
:warning-caption: :warning:
endif::[]

:chapter-label:
:listing-caption: Listagem
:figure-caption: Figura

//Transi√ß√£o para todos os slides // none/fade/slide/convex/concave/zoom
//:revealjs_transition: 'zoom'

//https://github.com/hakimel/reveal.js#theming
:revealjs_theme: league

= Padr√µes de Projetos: Factory Method

Prof. Manoel Campos https://about.me/manoelcampos

[transition=zoom]
== Categoria

Padr√£o de projeto criacional image:ice-cream-sandwich-machine.gif[title=https://twistedsifter.com, link=https://twistedsifter.com/category/angifs/page/6/]

[transition=fade]
== Defini√ß√£o

üìòFornece uma interface para criar um objeto, mas permite √†s subclasses decidirem qual tipo de objeto instanciar . [UCPP]

image:ucpp.jpg[size=contain]

[transition=fade]
== Mas antes de entendermos o padr√£o ü§î...

[transition=fade]
== !

image::patterns/criacionais/exportador-simple-factory.png[background, size=contain]

[transition=fade]
== Vamos rever a aplica√ß√£o em funcionamento

- https://github.com/manoelcampos/padroes-projetos/blob/master/criacionais/simple-factory/exportador-simple-factory[O exportador de produtos]

[transition=fade]
== Mas podemos ter problemas...

[%step]
- N√£o segue o https://en.wikipedia.org/wiki/Single-responsibility_principle[Single-Responsitility Principle (SRP)] nem https://en.wikipedia.org/wiki/Interface_segregation_principle[Interface Segregation Principle (ISP)] ü§¶ image:patterns/criacionais/interface-exportador-lista-produtos.png[]

[transition=fade]
== Ent√£o como resolver? ü§Ø

[%step]
- Seguindo o ISP...
- e consequentemente o SRP
- A modelagem a seguir ainda **N√ÉO** implementa o padr√£o Factory Method

[transition=fade]
== !

image::patterns/criacionais/no-factory-method-exportador.png[background, size=contain]


[transition=fade]
== Antes t√≠nhamos um problema, agora criamos outro 

https://github.com/manoelcampos/padroes-projetos/tree/master/criacionais/factory-method/exportador-problematico[O exportador problem√°tico üò≠]

[transition=zoom]
== Como resolver de vez? üò°

[transition=zoom]
== Utilizando o padr√£o Factory Method

[transition=zoofadem]
== Aplicabilidade

[%step]
- uma classe precisa utilizar um tipo de objeto, mas ela n√£o tem como decidir qual tipo concreto utilizar, pois tal l√≥gica √© definida por subclasses;
- cada subclasse tem uma l√≥gica diferente para a cria√ß√£o dos objetos, juntar estas l√≥gicas na superclasse tornaria o c√≥digo extenso e confuso;

[transition=fade]
== Aplicabilidade

[%step]
- novas subclasses puderem ser introduzidas a qualquer momento com diferentes l√≥gicas;
- voc√™ n√£o conhece quais s√£o todos os tipos concretos de objetos que podem ser criados;
- √© necess√°rio criar objetos por meio de **composi√ß√£o**, cada objeto instanciado √© um **todo** composto por diferentes **partes**, tais partes devem ser escolhidas de acordo com o todo.

[transition=zoom]
== Modelagem do Factory Method

== !

image::patterns/criacionais/factory-method-exportador.png[background, size=contain]

[transition=zoom, background-opacity=0.4]
== Princ√≠pios utilizados

[%step]
- https://en.wikipedia.org/wiki/Single-responsibility_principle[Single-Responsitility Principle (SRP)]
- https://en.wikipedia.org/wiki/Open‚Äìclosed_principle[Open/Closed Principle (OCP)]
- https://tuhrig.de/programming-to-an-interface/[Programar para uma "interface" n√£o uma implementa√ß√£o (GoF)]: `TipoAbstrato variavel;`
- https://en.wikipedia.org/wiki/Dependency_inversion_principle[Dependency Inversion Principle (DIP)]

image::recommendations.jpg[background, size=contain, text=https://www.smart-energy.com, link=https://www.smart-energy.com/industry-sectors/smart-energy/five-key-recommendations-for-the-sustainable-energy-sector-growth-in-mena/]


[transition=fade]
== !

.Depend√™ncias com a N√ÉO utiliza√ß√£o de uma f√°brica
image::patterns/criacionais/no-simple-factory.png[width="50%"]

[transition=fade]
== !

.Usando uma f√°brica
image::patterns/criacionais/simple-factory-dip.png[width="50%"]